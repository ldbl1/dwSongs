# Módulo de traducciones simple

LANGS = {
    "es": {
        "app_title": "dwSongs: Descargador de YouTube",
        "folder_frame": "Carpeta de descarga",
        "select_folder": "Seleccionar carpeta...",
        "no_folder": "Sin carpeta seleccionada",
        "source_frame": "Fuente de enlaces",
        "csv": "CSV",
        "paste_text": "Pegar texto",
        "select_csv": "Seleccionar archivo CSV...",
        "no_csv": "Sin archivo seleccionado",
        "paste_links_label": "Pega aquí los enlaces (uno por línea):",
        "format_frame": "Formato de salida",
        "mp3": "MP3 (audio)",
        "mp4": "MP4 (video)",
        "download": "Descargar",
        "reset": "Resetear",
        "author_link": "Conoce al autor",
        "uses_notice": "Usa este programa respetando los términos de YouTube y derechos de autor.",
        "error_select_folder": "Por favor, selecciona una carpeta válida de descarga.",
        "error_select_csv": "Por favor, selecciona un archivo CSV válido.",
        "error_no_urls": "No se han encontrado enlaces para descargar.",
        "csv_read_error": "No se pudo leer el CSV: {error}",
        "download_finished": "Descarga finalizada.",
        "download_stats": "Correctas: {ok}\nCon error: {err}\nInválidas: {inv}",
        "download_open_folder_question": "¿Quieres abrir la carpeta de descarga?",
    },
    "en": {
        "app_title": "dwSongs: YouTube Downloader",
        "folder_frame": "Download folder",
        "select_folder": "Select folder...",
        "no_folder": "No folder selected",
        "source_frame": "Source of links",
        "csv": "CSV",
        "paste_text": "Paste text",
        "select_csv": "Select CSV file...",
        "no_csv": "No file selected",
        "paste_links_label": "Paste links here (one per line):",
        "format_frame": "Output format",
        "mp3": "MP3 (audio)",
        "mp4": "MP4 (video)",
        "download": "Download",
        "reset": "Reset",
        "author_link": "About the author",
        "uses_notice": "Use this program respecting YouTube terms and copyright.",
        "error_select_folder": "Please select a valid download folder.",
        "error_select_csv": "Please select a valid CSV file.",
        "error_no_urls": "No links were found to download.",
        "csv_read_error": "Could not read CSV: {error}",
        "download_finished": "Download finished.",
        "download_stats": "Successful: {ok}\nErrors: {err}\nInvalid: {inv}",
        "download_open_folder_question": "Open download folder?",
    },
    "fr": {
        "app_title": "dwSongs: Téléchargeur YouTube",
        "folder_frame": "Dossier de téléchargement",
        "select_folder": "Sélectionner le dossier...",
        "no_folder": "Aucun dossier sélectionné",
        "source_frame": "Source des liens",
        "csv": "CSV",
        "paste_text": "Coller le texte",
        "select_csv": "Sélectionner le fichier CSV...",
        "no_csv": "Aucun fichier sélectionné",
        "paste_links_label": "Collez les liens ici (un par ligne) :",
        "format_frame": "Format de sortie",
        "mp3": "MP3 (audio)",
        "mp4": "MP4 (vidéo)",
        "download": "Télécharger",
        "reset": "Réinitialiser",
        "author_link": "À propos de l'auteur",
        "uses_notice": "Utilisez ce programme en respectant les conditions de YouTube et le droit d'auteur.",
        "error_select_folder": "Veuillez sélectionner un dossier de téléchargement valide.",
        "error_select_csv": "Veuillez sélectionner un fichier CSV valide.",
        "error_no_urls": "Aucun lien trouvé à télécharger.",
        "csv_read_error": "Impossible de lire le CSV : {error}",
        "download_finished": "Téléchargement terminé.",
        "download_stats": "Succès : {ok}\nErreurs : {err}\nInvalides : {inv}",
        "download_open_folder_question": "Ouvrir le dossier de téléchargement ?",
    },
    "ro": {
        "app_title": "dwSongs: Downloader YouTube",
        "folder_frame": "Folder descarcare",
        "select_folder": "Selectează folderul...",
        "no_folder": "Niciun folder selectat",
        "source_frame": "Sursa linkurilor",
        "csv": "CSV",
        "paste_text": "Lipește textul",
        "select_csv": "Selectează fișierul CSV...",
        "no_csv": "Niciun fișier selectat",
        "paste_links_label": "Lipește link-urile aici (unul pe linie):",
        "format_frame": "Format ieșire",
        "mp3": "MP3 (audio)",
        "mp4": "MP4 (video)",
        "download": "Descarcă",
        "reset": "Resetare",
        "author_link": "Despre autor",
        "uses_notice": "Folosește acest program respectând termenii YouTube și drepturile de autor.",
        "error_select_folder": "Te rog selectează un folder de descărcare valid.",
        "error_select_csv": "Te rog selectează un fișier CSV valid.",
        "error_no_urls": "Nu s-au găsit link-uri pentru descărcare.",
        "csv_read_error": "Nu s-a putut citi CSV: {error}",
        "download_finished": "Descărcare finalizată.",
        "download_stats": "Reușite: {ok}\nErori: {err}\nInvalide: {inv}",
        "download_open_folder_question": "Deschide folderul de descărcare?",
    },
    "it": {
        "app_title": "dwSongs: Downloader per YouTube",
        "folder_frame": "Cartella di download",
        "select_folder": "Seleziona cartella...",
        "no_folder": "Nessuna cartella selezionata",
        "source_frame": "Fonte dei link",
        "csv": "CSV",
        "paste_text": "Incolla testo",
        "select_csv": "Seleziona file CSV...",
        "no_csv": "Nessun file selezionato",
        "paste_links_label": "Incolla i link qui (uno per riga):",
        "format_frame": "Formato di uscita",
        "mp3": "MP3 (audio)",
        "mp4": "MP4 (video)",
        "download": "Scarica",
        "reset": "Reset",
        "author_link": "Informazioni sull'autore",
        "uses_notice": "Usa questo programma rispettando i termini di YouTube e il copyright.",
        "error_select_folder": "Per favore, seleziona una cartella di download valida.",
        "error_select_csv": "Per favore, seleziona un file CSV valido.",
        "error_no_urls": "Nessun link trovato da scaricare.",
        "csv_read_error": "Impossibile leggere il CSV: {error}",
        "download_finished": "Download completato.",
        "download_stats": "Riuscite: {ok}\nErrori: {err}\nInvalidi: {inv}",
        "download_open_folder_question": "Vuoi aprire la cartella di download?",
    },
    "de": {
        "app_title": "dwSongs: YouTube Downloader",
        "folder_frame": "Download-Ordner",
        "select_folder": "Ordner auswählen...",
        "no_folder": "Kein Ordner ausgewählt",
        "source_frame": "Quelle der Links",
        "csv": "CSV",
        "paste_text": "Text einfügen",
        "select_csv": "CSV-Datei auswählen...",
        "no_csv": "Keine Datei ausgewählt",
        "paste_links_label": "Füge die Links hier ein (jeweils eine pro Zeile):",
        "format_frame": "Ausgabeformat",
        "mp3": "MP3 (Audio)",
        "mp4": "MP4 (Video)",
        "download": "Herunterladen",
        "reset": "Zurücksetzen",
        "author_link": "Über den Autor",
        "uses_notice": "Verwende dieses Programm unter Beachtung der YouTube-Bedingungen und des Urheberrechts.",
        "error_select_folder": "Bitte wähle einen gültigen Download-Ordner.",
        "error_select_csv": "Bitte wähle eine gültige CSV-Datei.",
        "error_no_urls": "Es wurden keine Links zum Herunterladen gefunden.",
        "csv_read_error": "CSV konnte nicht gelesen werden: {error}",
        "download_finished": "Download abgeschlossen.",
        "download_stats": "Erfolgreich: {ok}\nFehler: {err}\nUngültig: {inv}",
        "download_open_folder_question": "Download-Ordner öffnen?",
    },
    "zh": {
        "app_title": "dwSongs：YouTube 下载器",
        "folder_frame": "下载文件夹",
        "select_folder": "选择文件夹...",
        "no_folder": "未选择文件夹",
        "source_frame": "链接来源",
        "csv": "CSV",
        "paste_text": "粘贴文本",
        "select_csv": "选择 CSV 文件...",
        "no_csv": "未选择文件",
        "paste_links_label": "将链接粘贴到此处（每行一个）：",
        "format_frame": "输出格式",
        "mp3": "MP3（音频）",
        "mp4": "MP4（视频）",
        "download": "下载",
        "reset": "重置",
        "author_link": "关于作者",
        "uses_notice": "请在尊重 YouTube 条款和版权的前提下使用此程序。",
        "error_select_folder": "请选择有效的下载文件夹。",
        "error_select_csv": "请选择有效的 CSV 文件。",
        "error_no_urls": "未找到可下载的链接。",
        "csv_read_error": "无法读取 CSV：{error}",
        "download_finished": "下载完成。",
        "download_stats": "成功：{ok}\n错误：{err}\n无效：{inv}",
        "download_open_folder_question": "要打开下载文件夹吗？",
    },
    "pt": {
        "app_title": "dwSongs: Downloader do YouTube",
        "folder_frame": "Pasta de download",
        "select_folder": "Selecionar pasta...",
        "no_folder": "Nenhuma pasta selecionada",
        "source_frame": "Fonte dos links",
        "csv": "CSV",
        "paste_text": "Colar texto",
        "select_csv": "Selecionar arquivo CSV...",
        "no_csv": "Nenhum arquivo selecionado",
        "paste_links_label": "Cole os links aqui (um por linha):",
        "format_frame": "Formato de saída",
        "mp3": "MP3 (áudio)",
        "mp4": "MP4 (vídeo)",
        "download": "Baixar",
        "reset": "Redefinir",
        "author_link": "Sobre o autor",
        "uses_notice": "Use este programa respeitando os termos do YouTube e direitos autorais.",
        "error_select_folder": "Por favor, selecione uma pasta de download válida.",
        "error_select_csv": "Por favor, selecione um arquivo CSV válido.",
        "error_no_urls": "Nenhum link encontrado para baixar.",
        "csv_read_error": "Não foi possível ler o CSV: {error}",
        "download_finished": "Download concluído.",
        "download_stats": "Bem-sucedidos: {ok}\nErros: {err}\nInválidos: {inv}",
        "download_open_folder_question": "Abrir pasta de download?",
    },
    "ar_MA": {
        "app_title": "dwSongs: محمل يوتيوب",
        "folder_frame": "مجلد التنزيل",
        "select_folder": "اختر المجلد...",
        "no_folder": "لم يتم اختيار مجلد",
        "source_frame": "مصدر الروابط",
        "csv": "CSV",
        "paste_text": "الصق النص",
        "select_csv": "اختر ملف CSV...",
        "no_csv": "لم يتم اختيار ملف",
        "paste_links_label": "ألصق الروابط هنا (واحد في كل سطر):",
        "format_frame": "تنسيق الإخراج",
        "mp3": "MP3 (صوتي)",
        "mp4": "MP4 (فيديو)",
        "download": "تنزيل",
        "reset": "إعادة ضبط",
        "author_link": "تعرف على المؤلف",
        "uses_notice": "استخدم هذا البرنامج مع احترام شروط YouTube وحقوق النشر.",
        "error_select_folder": "يرجى اختيار مجلد تنزيل صالح.",
        "error_select_csv": "يرجى اختيار ملف CSV صالح.",
        "error_no_urls": "لم يتم العثور على روابط للتنزيل.",
        "csv_read_error": "تعذر قراءة CSV: {error}",
        "download_finished": "اكتمل التنزيل.",
        "download_stats": "ناجحة: {ok}\nأخطاء: {err}\nغير صالحة: {inv}",
        "download_open_folder_question": "هل تريد فتح مجلد التنزيل؟",
    },
}

_current = "es"


def set_language(lang_code: str):
    global _current
    if lang_code in LANGS:
        _current = lang_code


def t(key: str) -> str:
    return LANGS.get(_current, {}).get(key, key)


# Nombres legibles para el combo de idiomas
LANG_NAMES = {
    "es": "Español",
    "en": "English",
    "fr": "Français",
    "ro": "Română",
    "it": "Italiano",
    "de": "Deutsch",
    "zh": "中文 (简体)",
    "pt": "Português",
    "ar_MA": "العربية (المغرب)"
}



def get_language_choices():
    """Devuelve una lista de etiquetas para mostrar en el combobox, p.ej. 'Español (es)'."""
    return [f"{LANG_NAMES.get(code, code)} ({code})" for code in LANGS.keys()]


def code_from_choice(choice: str) -> str:
    """Extrae el código de idioma de una etiqueta del tipo 'Nombre (code)'."""
    if not choice:
        return _current
    if "(" in choice and ")" in choice:
        return choice.split("(")[-1].split(")")[0]
    return choice


def get_current_choice() -> str:
    """Devuelve la etiqueta de visualización para el idioma actualmente seleccionado."""
    return f"{LANG_NAMES.get(_current, _current)} ({_current})"
